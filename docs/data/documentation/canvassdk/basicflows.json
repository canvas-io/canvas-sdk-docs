{"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"anchor":"Managing-local-scans","level":3,"type":"heading","text":"Managing local scans"},{"anchor":"Creating-a-scan","level":4,"type":"heading","text":"Creating a scan"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To create a scan, you first need to initialize "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScanner"},{"type":"text","text":" and present it on screen. For example by presenting as a modal view controller as it’s subclass of the "},{"type":"codeVoice","code":"UIKit.UIViewController"},{"type":"text","text":"."}]},{"type":"codeListing","syntax":"swift","code":["class ViewController: UIViewController {","...","","    func showScanner() {","        let canvasScanner = CanvasScanner(scanName: \"new scan\", scansPathComponent: \"scans\")","        self.presentViewController(vc, animated: true, completion: nil)","    }","","...","}"]},{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScanner"},{"type":"text","text":" saves all scan’s data into documents directory under user domain mask. To alter this behaviour, change "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/Canvas\/scansDirectoryInfo-swift.type.property"},{"type":"text","text":" property."}]},{"anchor":"Deleting-scans-data","level":4,"type":"heading","text":"Deleting scan’s data"},{"type":"paragraph","inlineContent":[{"type":"text","text":"When the scan’s data is not needed, it can be deleted by the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScansService\/deleteAllLocalAssets(scan:)"},{"type":"text","text":" method."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Or you can delete all data manually by removing data in the scan’s directory "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScan\/assetsDirectoryRelativePath"},{"type":"text","text":"."}]},{"type":"codeListing","syntax":"swift","code":["if let path = scan.assetsDirectoryRelativePath {","    let scansDirectory = FileManager.default.urls(","      for: Canvas.scansDirectoryInfo.baseDirectory, in: Canvas.scansDirectoryInfo.domainMask","    ).last","    try FileManager.default.removeItem(at: scansDirectory.appendingPathComponent(path))","}"]},{"anchor":"Accessing-scans-data","level":4,"type":"heading","text":"Accessing scan’s data"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To access local scan’s data, you can get all data URLs "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScansService\/getAllLocalAssetsURLs(scan:)"},{"type":"text","text":" or direclty via "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScan\/assetsDirectoryRelativePath"},{"type":"text","text":" property."}]},{"type":"codeListing","syntax":"swift","code":["let scanDataDirectory = FileManager.default.urls(","    for: Canvas.scansDirectoryInfo.baseDirectory, in: Canvas.scansDirectoryInfo.domainMask",").last.appendingPathComponent(scan.assetsDirectoryRelativePath!)"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Path to the specific asset of the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScan"},{"type":"text","text":" can be found by accessing "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasAsset\/relativePath"},{"type":"text","text":" property."},{"type":"text","text":" "},{"type":"text","text":"All attached scan assets can be found using "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScan\/assets"},{"type":"text","text":" field."}]},{"anchor":"Checkout","level":3,"type":"heading","text":"Checkout"},{"type":"paragraph","inlineContent":[{"type":"text","text":"For further processing an order should be created and scans should be uploaded to server."}]},{"type":"codeListing","syntax":"swift","code":["func placeOrder(canvasScans: [CanvasScan]) acync {","    \/\/ create checkout settings, set scan\/scans for processing.","","    let checkoutSettings = CanvasCheckoutSettings(","        spaces: Set([.interior, .exterior]),","        scans: canvasScans,","        cadFormats: [.pdf] \/\/ to get all available formats call ``CanvasCheckoutService\/getAvailableCADFormats()``","    )","","    \/\/ setup other checkoutSettings if needed","    \/\/ ...","","    let order = try await checkoutService.checkout(withSettings: checkoutSettings)","","    \/\/ start uploading","    await uploadService.uploadScans(checkoutSettings.scans)","}"]},{"anchor":"Orders-history","level":3,"type":"heading","text":"Orders history"},{"anchor":"Get-all-previous-orders","level":4,"type":"heading","text":"Get all previous orders"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To obtain info about placed orders, use "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasOrdersService\/fetchOrders(page:)"},{"type":"text","text":" or "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasOrdersService\/fetchOrders(page:_:)"},{"type":"text","text":". This method supports pagination."},{"type":"text","text":" "},{"type":"text","text":"To fetch the the next page pass the next page url. For the first page pass nil."}]},{"type":"codeListing","syntax":"swift","code":["let ordersResponse = try await ordersService.fetchOrders(page: nil)"]},{"anchor":"Downloading-orders-data","level":4,"type":"heading","text":"Downloading order’s data"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To download order’s data such as CAD or reprocessed models, use "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasOrdersService\/downloadCADForOrderScan(_:)"},{"type":"text","text":" or "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasOrdersService\/downloadReporcessForOrderScan(_:)"},{"type":"text","text":". Or you can visit the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasOrder\/downloadPageURL"},{"type":"text","text":" web page and download data using web browser."}]},{"anchor":"On-device-processing","level":3,"type":"heading","text":"On device processing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Please see "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/OnDeviceProcessing"},{"type":"text","text":" for more detailed information on how to setup and start working with Canvas SDK in your project."}]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/canvassdk\/basicflows"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/BasicFlows","interfaceLanguage":"swift"},"kind":"article","metadata":{"roleHeading":"Article","title":"Basic Flows","role":"article","modules":[{"name":"CanvasSDK"}]},"hierarchy":{"paths":[["doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK"]]},"references":{"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/OnDeviceProcessing":{"role":"article","title":"OnDeviceProcessing","abstract":[],"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/OnDeviceProcessing","kind":"article","type":"topic","url":"\/documentation\/canvassdk\/ondeviceprocessing"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasOrdersService/downloadReporcessForOrderScan(_:)":{"role":"symbol","title":"downloadReporcessForOrderScan(_:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"downloadReporcessForOrderScan"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"CanvasOrder","preciseIdentifier":"s:9CanvasSDK0A5OrderV"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Scan","preciseIdentifier":"s:9CanvasSDK0A5OrderV4ScanV"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"AsyncThrowingStream","preciseIdentifier":"s:Scs"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Downloading","preciseIdentifier":"s:9CanvasSDK0A13OrdersServiceC11DownloadingO"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":">"}],"abstract":[],"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasOrdersService\/downloadReporcessForOrderScan(_:)","kind":"symbol","type":"topic","url":"\/documentation\/canvassdk\/canvasordersservice\/downloadreporcessfororderscan(_:)"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasScanner":{"role":"symbol","title":"CanvasScanner","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"CanvasScanner"}],"abstract":[{"type":"text","text":"CanvasScanner is used to create a 3D scan mesh."}],"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScanner","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"CanvasScanner"}],"url":"\/documentation\/canvassdk\/canvasscanner"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/Canvas/scansDirectoryInfo-swift.type.property":{"role":"symbol","title":"scansDirectoryInfo","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"scansDirectoryInfo"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Canvas","preciseIdentifier":"s:9CanvasSDK0A0C"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"ScansDirectoryInfo","preciseIdentifier":"s:9CanvasSDK0A0C18ScansDirectoryInfoV"}],"abstract":[{"type":"text","text":"Base directory info where "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScanner"},{"type":"text","text":" saves all scans."}],"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/Canvas\/scansDirectoryInfo-swift.type.property","kind":"symbol","type":"topic","url":"\/documentation\/canvassdk\/canvas\/scansdirectoryinfo-swift.type.property"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK":{"role":"collection","title":"CanvasSDK","abstract":[{"type":"text","text":"Create a 3D scan of your environment using a device’s camera and convert it to a CAD model."}],"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK","kind":"symbol","type":"topic","url":"\/documentation\/canvassdk"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasScan/assets":{"role":"symbol","title":"assets","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"assets"},{"kind":"text","text":": ["},{"kind":"typeIdentifier","text":"CanvasAsset","preciseIdentifier":"s:9CanvasSDK0A5AssetV"},{"kind":"text","text":"]"}],"abstract":[],"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScan\/assets","kind":"symbol","type":"topic","url":"\/documentation\/canvassdk\/canvasscan\/assets"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasOrdersService/downloadCADForOrderScan(_:)":{"role":"symbol","title":"downloadCADForOrderScan(_:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"downloadCADForOrderScan"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"CanvasOrder","preciseIdentifier":"s:9CanvasSDK0A5OrderV"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Scan","preciseIdentifier":"s:9CanvasSDK0A5OrderV4ScanV"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"AsyncThrowingStream","preciseIdentifier":"s:Scs"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Downloading","preciseIdentifier":"s:9CanvasSDK0A13OrdersServiceC11DownloadingO"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":">"}],"abstract":[],"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasOrdersService\/downloadCADForOrderScan(_:)","kind":"symbol","type":"topic","url":"\/documentation\/canvassdk\/canvasordersservice\/downloadcadfororderscan(_:)"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasScan":{"role":"symbol","title":"CanvasScan","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"CanvasScan"}],"abstract":[{"type":"text","text":"An object that holds paths to all saved assets and scan info."}],"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScan","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"CanvasScan"}],"url":"\/documentation\/canvassdk\/canvasscan"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasOrdersService/fetchOrders(page:_:)":{"role":"symbol","title":"fetchOrders(page:_:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"fetchOrders"},{"kind":"text","text":"("},{"kind":"externalParam","text":"page"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"URL","preciseIdentifier":"s:10Foundation3URLV"},{"kind":"text","text":"?, ("},{"kind":"typeIdentifier","text":"Result","preciseIdentifier":"s:s6ResultO"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"OrdersResponse","preciseIdentifier":"s:9CanvasSDK0A13OrdersServiceC0C8ResponseV"},{"kind":"text","text":", Swift"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":">) -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Get your orders."}],"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasOrdersService\/fetchOrders(page:_:)","kind":"symbol","type":"topic","url":"\/documentation\/canvassdk\/canvasordersservice\/fetchorders(page:_:)"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasAsset/relativePath":{"role":"symbol","title":"relativePath","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"relativePath"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"?"}],"abstract":[{"type":"text","text":"Assets resource relative path."}],"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasAsset\/relativePath","kind":"symbol","type":"topic","url":"\/documentation\/canvassdk\/canvasasset\/relativepath"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasOrder/downloadPageURL":{"role":"symbol","title":"downloadPageURL","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"downloadPageURL"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"URL","preciseIdentifier":"s:10Foundation3URLV"},{"kind":"text","text":"?"}],"abstract":[{"type":"text","text":"Page for downloading all processed files."}],"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasOrder\/downloadPageURL","kind":"symbol","type":"topic","url":"\/documentation\/canvassdk\/canvasorder\/downloadpageurl"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasScan/assetsDirectoryRelativePath":{"role":"symbol","title":"assetsDirectoryRelativePath","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"assetsDirectoryRelativePath"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"?"}],"abstract":[],"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScan\/assetsDirectoryRelativePath","kind":"symbol","type":"topic","url":"\/documentation\/canvassdk\/canvasscan\/assetsdirectoryrelativepath"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasScansService/deleteAllLocalAssets(scan:)":{"role":"symbol","title":"deleteAllLocalAssets(scan:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"deleteAllLocalAssets"},{"kind":"text","text":"("},{"kind":"externalParam","text":"scan"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"CanvasScan","preciseIdentifier":"s:9CanvasSDK0A4ScanV"},{"kind":"text","text":") "},{"kind":"keyword","text":"throws"}],"abstract":[{"type":"text","text":"Delete locally saved files for all assets for the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScan"},{"type":"text","text":"."}],"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScansService\/deleteAllLocalAssets(scan:)","kind":"symbol","type":"topic","url":"\/documentation\/canvassdk\/canvasscansservice\/deletealllocalassets(scan:)"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasScansService/getAllLocalAssetsURLs(scan:)":{"role":"symbol","title":"getAllLocalAssetsURLs(scan:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"getAllLocalAssetsURLs"},{"kind":"text","text":"("},{"kind":"externalParam","text":"scan"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"CanvasScan","preciseIdentifier":"s:9CanvasSDK0A4ScanV"},{"kind":"text","text":") "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> ["},{"kind":"typeIdentifier","text":"URL","preciseIdentifier":"s:10Foundation3URLV"},{"kind":"text","text":"]"}],"abstract":[{"type":"text","text":"Get URLs to all local assets for "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScan"},{"type":"text","text":"."}],"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScansService\/getAllLocalAssetsURLs(scan:)","kind":"symbol","type":"topic","url":"\/documentation\/canvassdk\/canvasscansservice\/getalllocalassetsurls(scan:)"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasOrdersService/fetchOrders(page:)":{"role":"symbol","title":"fetchOrders(page:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"fetchOrders"},{"kind":"text","text":"("},{"kind":"externalParam","text":"page"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"URL","preciseIdentifier":"s:10Foundation3URLV"},{"kind":"text","text":"?) "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"OrdersResponse","preciseIdentifier":"s:9CanvasSDK0A13OrdersServiceC0C8ResponseV"}],"abstract":[{"type":"text","text":"Get your orders."}],"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasOrdersService\/fetchOrders(page:)","kind":"symbol","type":"topic","url":"\/documentation\/canvassdk\/canvasordersservice\/fetchorders(page:)"}}}
{"sections":[],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/canvassdk\/basicflows"]}],"hierarchy":{"paths":[["doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK"]]},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/BasicFlows"},"metadata":{"title":"Basic Flows","role":"article","modules":[{"name":"CanvasSDK"}],"roleHeading":"Article"},"schemaVersion":{"patch":0,"minor":3,"major":0},"primaryContentSections":[{"content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"anchor":"Managing-local-scans","text":"Managing local scans","type":"heading","level":3},{"level":4,"text":"Creating a scan","type":"heading","anchor":"Creating-a-scan"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To create a scan, you first need to initialize "},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScanner"},{"type":"text","text":" and present it on screen. For example by presenting as a modal view controller as it’s subclass of the "},{"type":"codeVoice","code":"UIKit.UIViewController"},{"type":"text","text":"."}]},{"code":["class ViewController: UIViewController {","...","","    func showScanner() {","        let canvasScanner = CanvasScanner(scanName: \"new scan\", scansPathComponent: \"scans\")","        self.presentViewController(vc, animated: true, completion: nil)","    }","","...","}"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScanner","isActive":true,"type":"reference"},{"type":"text","text":" saves all scan’s data into documents directory under user domain mask. To alter this behaviour, change "},{"type":"reference","identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/Canvas\/scansDirectoryInfo-swift.type.property","isActive":true},{"type":"text","text":" property."}],"type":"paragraph"},{"text":"Deleting scan’s data","type":"heading","level":4,"anchor":"Deleting-scans-data"},{"type":"paragraph","inlineContent":[{"type":"text","text":"When the scan’s data is not needed, it can be deleted by the "},{"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScansService\/deleteAllLocalAssets(scan:)","type":"reference","isActive":true},{"text":" method.","type":"text"}]},{"inlineContent":[{"type":"text","text":"Or you can delete all data manually by removing data in the scan’s directory "},{"type":"reference","identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScan\/assetsDirectoryRelativePath","isActive":true},{"text":".","type":"text"}],"type":"paragraph"},{"type":"codeListing","code":["if let path = scan.assetsDirectoryRelativePath {","    let scansDirectory = FileManager.default.urls(","      for: Canvas.scansDirectoryInfo.baseDirectory, in: Canvas.scansDirectoryInfo.domainMask","    ).last","    try FileManager.default.removeItem(at: scansDirectory.appendingPathComponent(path))","}"],"syntax":"swift"},{"level":4,"text":"Accessing scan’s data","type":"heading","anchor":"Accessing-scans-data"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To access local scan’s data, you can get all data URLs "},{"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScansService\/getAllLocalAssetsURLs(scan:)","type":"reference","isActive":true},{"type":"text","text":" or direclty via "},{"type":"reference","identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScan\/assetsDirectoryRelativePath","isActive":true},{"type":"text","text":" property."}]},{"type":"codeListing","syntax":"swift","code":["let scanDataDirectory = FileManager.default.urls(","    for: Canvas.scansDirectoryInfo.baseDirectory, in: Canvas.scansDirectoryInfo.domainMask",").last.appendingPathComponent(scan.assetsDirectoryRelativePath!)"]},{"inlineContent":[{"type":"text","text":"Path to the specific asset of the "},{"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScan","isActive":true,"type":"reference"},{"type":"text","text":" can be found by accessing "},{"isActive":true,"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasAsset\/relativePath","type":"reference"},{"text":" property.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"All attached scan assets can be found using "},{"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScan\/assets","isActive":true,"type":"reference"},{"type":"text","text":" field."}],"type":"paragraph"},{"type":"heading","level":3,"text":"Checkout","anchor":"Checkout"},{"type":"paragraph","inlineContent":[{"text":"For further processing an order should be created and scans should be uploaded to server.","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["func placeOrder(canvasScans: [CanvasScan]) acync {","    \/\/ create checkout settings, set scan\/scans for processing.","","    let checkoutSettings = CanvasCheckoutSettings(","        spaces: Set([.interior, .exterior]),","        scans: canvasScans,","        cadFormats: [.pdf] \/\/ to get all available formats call ``CanvasCheckoutService\/getAvailableCADFormats()``","    )","","    \/\/ setup other checkoutSettings if needed","    \/\/ ...","","    let order = try await checkoutService.checkout(withSettings: checkoutSettings)","","    \/\/ start uploading","    await uploadService.uploadScans(checkoutSettings.scans)","}"]},{"anchor":"Orders-history","level":3,"type":"heading","text":"Orders history"},{"level":4,"text":"Get all previous orders","type":"heading","anchor":"Get-all-previous-orders"},{"inlineContent":[{"text":"To obtain info about placed orders, use ","type":"text"},{"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasOrdersService\/fetchOrders(page:)","isActive":true,"type":"reference"},{"text":" or ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasOrdersService\/fetchOrders(page:_:)"},{"text":". This method supports pagination.","type":"text"},{"type":"text","text":" "},{"text":"To fetch the the next page pass the next page url. For the first page pass nil.","type":"text"}],"type":"paragraph"},{"type":"codeListing","code":["let ordersResponse = try await ordersService.fetchOrders(page: nil)"],"syntax":"swift"},{"type":"heading","level":4,"text":"Downloading order’s data","anchor":"Downloading-orders-data"},{"inlineContent":[{"type":"text","text":"To download order’s data such as CAD or reprocessed models, use "},{"isActive":true,"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasOrdersService\/downloadCADForOrderScan(_:)","type":"reference"},{"text":" or ","type":"text"},{"type":"reference","identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasOrdersService\/downloadReporcessForOrderScan(_:)","isActive":true},{"type":"text","text":". Or you can visit the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasOrder\/downloadPageURL"},{"type":"text","text":" web page and download data using web browser."}],"type":"paragraph"},{"anchor":"On-device-processing","type":"heading","level":3,"text":"On device processing"},{"inlineContent":[{"type":"text","text":"Please see "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/OnDeviceProcessing"},{"text":" for more detailed information on how to setup and start working with Canvas SDK in your project.","type":"text"}],"type":"paragraph"}],"kind":"content"}],"kind":"article","references":{"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasOrdersService/fetchOrders(page:_:)":{"abstract":[{"type":"text","text":"Get your orders."}],"type":"topic","url":"\/documentation\/canvassdk\/canvasordersservice\/fetchorders(page:_:)","identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasOrdersService\/fetchOrders(page:_:)","title":"fetchOrders(page:_:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"fetchOrders","kind":"identifier"},{"text":"(","kind":"text"},{"text":"page","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"URL","kind":"typeIdentifier","preciseIdentifier":"s:10Foundation3URLV"},{"kind":"text","text":"?, ("},{"text":"Result","kind":"typeIdentifier","preciseIdentifier":"s:s6ResultO"},{"text":"<","kind":"text"},{"text":"OrdersResponse","kind":"typeIdentifier","preciseIdentifier":"s:9CanvasSDK0A13OrdersServiceC0C8ResponseV"},{"text":", Swift","kind":"text"},{"kind":"text","text":"."},{"text":"Error","preciseIdentifier":"s:s5ErrorP","kind":"typeIdentifier"},{"kind":"text","text":">) -> "},{"text":"Void","kind":"typeIdentifier","preciseIdentifier":"s:s4Voida"},{"text":")","kind":"text"}],"role":"symbol","kind":"symbol"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasScansService/getAllLocalAssetsURLs(scan:)":{"title":"getAllLocalAssetsURLs(scan:)","type":"topic","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"getAllLocalAssetsURLs","kind":"identifier"},{"kind":"text","text":"("},{"kind":"externalParam","text":"scan"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:9CanvasSDK0A4ScanV","text":"CanvasScan","kind":"typeIdentifier"},{"text":") ","kind":"text"},{"text":"throws","kind":"keyword"},{"kind":"text","text":" -> ["},{"kind":"typeIdentifier","preciseIdentifier":"s:10Foundation3URLV","text":"URL"},{"kind":"text","text":"]"}],"abstract":[{"text":"Get URLs to all local assets for ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScan"},{"type":"text","text":"."}],"url":"\/documentation\/canvassdk\/canvasscansservice\/getalllocalassetsurls(scan:)","identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScansService\/getAllLocalAssetsURLs(scan:)","role":"symbol","kind":"symbol"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasAsset/relativePath":{"type":"topic","kind":"symbol","abstract":[{"text":"Assets resource relative path.","type":"text"}],"url":"\/documentation\/canvassdk\/canvasasset\/relativepath","title":"relativePath","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"text":"relativePath","kind":"identifier"},{"kind":"text","text":": "},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"kind":"text","text":"?"}],"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasAsset\/relativePath","role":"symbol"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasOrder/downloadPageURL":{"abstract":[{"type":"text","text":"Page for downloading all processed files."}],"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasOrder\/downloadPageURL","role":"symbol","fragments":[{"text":"let","kind":"keyword"},{"text":" ","kind":"text"},{"text":"downloadPageURL","kind":"identifier"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"URL","preciseIdentifier":"s:10Foundation3URLV"},{"kind":"text","text":"?"}],"type":"topic","title":"downloadPageURL","kind":"symbol","url":"\/documentation\/canvassdk\/canvasorder\/downloadpageurl"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK":{"type":"topic","kind":"symbol","role":"collection","abstract":[{"text":"Create a 3D scan of your environment using a device’s camera and convert it to a CAD model.","type":"text"}],"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK","title":"CanvasSDK","url":"\/documentation\/canvassdk"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasOrdersService/downloadCADForOrderScan(_:)":{"title":"downloadCADForOrderScan(_:)","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"downloadCADForOrderScan","kind":"identifier"},{"text":"(","kind":"text"},{"text":"CanvasOrder","kind":"typeIdentifier","preciseIdentifier":"s:9CanvasSDK0A5OrderV"},{"kind":"text","text":"."},{"text":"Scan","kind":"typeIdentifier","preciseIdentifier":"s:9CanvasSDK0A5OrderV4ScanV"},{"text":") -> ","kind":"text"},{"text":"AsyncThrowingStream","kind":"typeIdentifier","preciseIdentifier":"s:Scs"},{"text":"<","kind":"text"},{"text":"Downloading","kind":"typeIdentifier","preciseIdentifier":"s:9CanvasSDK0A13OrdersServiceC11DownloadingO"},{"text":", ","kind":"text"},{"text":"Error","kind":"typeIdentifier","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":">"}],"abstract":[],"kind":"symbol","type":"topic","identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasOrdersService\/downloadCADForOrderScan(_:)","role":"symbol","url":"\/documentation\/canvassdk\/canvasordersservice\/downloadcadfororderscan(_:)"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasScan":{"abstract":[{"type":"text","text":"An object that holds paths to all saved assets and scan info."}],"kind":"symbol","url":"\/documentation\/canvassdk\/canvasscan","type":"topic","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"CanvasScan"}],"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScan","role":"symbol","navigatorTitle":[{"text":"CanvasScan","kind":"identifier"}],"title":"CanvasScan"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/Canvas/scansDirectoryInfo-swift.type.property":{"title":"scansDirectoryInfo","type":"topic","fragments":[{"kind":"keyword","text":"static"},{"text":" ","kind":"text"},{"text":"var","kind":"keyword"},{"kind":"text","text":" "},{"text":"scansDirectoryInfo","kind":"identifier"},{"text":": ","kind":"text"},{"text":"Canvas","kind":"typeIdentifier","preciseIdentifier":"s:9CanvasSDK0A0C"},{"kind":"text","text":"."},{"text":"ScansDirectoryInfo","kind":"typeIdentifier","preciseIdentifier":"s:9CanvasSDK0A0C18ScansDirectoryInfoV"}],"abstract":[{"text":"Base directory info where ","type":"text"},{"isActive":true,"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScanner","type":"reference"},{"type":"text","text":" saves all scans."}],"url":"\/documentation\/canvassdk\/canvas\/scansdirectoryinfo-swift.type.property","identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/Canvas\/scansDirectoryInfo-swift.type.property","role":"symbol","kind":"symbol"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasScan/assetsDirectoryRelativePath":{"type":"topic","kind":"symbol","abstract":[],"url":"\/documentation\/canvassdk\/canvasscan\/assetsdirectoryrelativepath","title":"assetsDirectoryRelativePath","fragments":[{"text":"let","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"assetsDirectoryRelativePath"},{"text":": ","kind":"text"},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"text":"?","kind":"text"}],"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScan\/assetsDirectoryRelativePath","role":"symbol"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasScansService/deleteAllLocalAssets(scan:)":{"role":"symbol","title":"deleteAllLocalAssets(scan:)","fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"text":"deleteAllLocalAssets","kind":"identifier"},{"kind":"text","text":"("},{"kind":"externalParam","text":"scan"},{"kind":"text","text":": "},{"text":"CanvasScan","preciseIdentifier":"s:9CanvasSDK0A4ScanV","kind":"typeIdentifier"},{"kind":"text","text":") "},{"text":"throws","kind":"keyword"}],"kind":"symbol","type":"topic","abstract":[{"text":"Delete locally saved files for all assets for the ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScan"},{"type":"text","text":"."}],"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScansService\/deleteAllLocalAssets(scan:)","url":"\/documentation\/canvassdk\/canvasscansservice\/deletealllocalassets(scan:)"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasOrdersService/fetchOrders(page:)":{"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasOrdersService\/fetchOrders(page:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"fetchOrders","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"page"},{"kind":"text","text":": "},{"text":"URL","kind":"typeIdentifier","preciseIdentifier":"s:10Foundation3URLV"},{"text":"?) ","kind":"text"},{"text":"async","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"keyword","text":"throws"},{"text":" -> ","kind":"text"},{"text":"OrdersResponse","kind":"typeIdentifier","preciseIdentifier":"s:9CanvasSDK0A13OrdersServiceC0C8ResponseV"}],"type":"topic","abstract":[{"type":"text","text":"Get your orders."}],"url":"\/documentation\/canvassdk\/canvasordersservice\/fetchorders(page:)","title":"fetchOrders(page:)","role":"symbol","kind":"symbol"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasScanner":{"role":"symbol","title":"CanvasScanner","kind":"symbol","fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"text":"CanvasScanner","kind":"identifier"}],"url":"\/documentation\/canvassdk\/canvasscanner","identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScanner","navigatorTitle":[{"text":"CanvasScanner","kind":"identifier"}],"type":"topic","abstract":[{"type":"text","text":"CanvasScanner is used to create a 3D scan mesh."}]},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasOrdersService/downloadReporcessForOrderScan(_:)":{"url":"\/documentation\/canvassdk\/canvasordersservice\/downloadreporcessfororderscan(_:)","kind":"symbol","type":"topic","identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasOrdersService\/downloadReporcessForOrderScan(_:)","abstract":[],"role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"text":"downloadReporcessForOrderScan","kind":"identifier"},{"text":"(","kind":"text"},{"text":"CanvasOrder","kind":"typeIdentifier","preciseIdentifier":"s:9CanvasSDK0A5OrderV"},{"text":".","kind":"text"},{"preciseIdentifier":"s:9CanvasSDK0A5OrderV4ScanV","text":"Scan","kind":"typeIdentifier"},{"kind":"text","text":") -> "},{"preciseIdentifier":"s:Scs","text":"AsyncThrowingStream","kind":"typeIdentifier"},{"kind":"text","text":"<"},{"preciseIdentifier":"s:9CanvasSDK0A13OrdersServiceC11DownloadingO","text":"Downloading","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"preciseIdentifier":"s:s5ErrorP","text":"Error","kind":"typeIdentifier"},{"text":">","kind":"text"}],"title":"downloadReporcessForOrderScan(_:)"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/OnDeviceProcessing":{"kind":"article","role":"article","abstract":[],"title":"OnDeviceProcessing","url":"\/documentation\/canvassdk\/ondeviceprocessing","identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/OnDeviceProcessing","type":"topic"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasScan/assets":{"abstract":[],"fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"assets","kind":"identifier"},{"kind":"text","text":": ["},{"kind":"typeIdentifier","text":"CanvasAsset","preciseIdentifier":"s:9CanvasSDK0A5AssetV"},{"kind":"text","text":"]"}],"type":"topic","url":"\/documentation\/canvassdk\/canvasscan\/assets","identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasScan\/assets","kind":"symbol","title":"assets","role":"symbol"}}}
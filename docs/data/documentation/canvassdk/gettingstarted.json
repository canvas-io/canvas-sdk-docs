{"schemaVersion":{"minor":3,"patch":0,"major":0},"kind":"article","metadata":{"modules":[{"name":"CanvasSDK"}],"roleHeading":"API Collection","role":"collectionGroup","title":"Getting Started with Canvas SDK"},"topicSections":[{"title":"Authorization","identifiers":["doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasSigningHandler","doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasSigningAlgo"]}],"identifier":{"url":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/GettingStarted","interfaceLanguage":"swift"},"seeAlsoSections":[{"identifiers":["doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/Canvas"],"generated":true,"title":"Essentials"}],"sections":[],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/canvassdk\/gettingstarted"]}],"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","type":"heading","level":2,"text":"Overview"},{"inlineContent":[{"text":"Before you start using Canvas SDK in your project, you have to install it and prepare authorization steps.","type":"text"}],"type":"paragraph"},{"type":"heading","anchor":"Installation","level":3,"text":"Installation"},{"inlineContent":[{"type":"text","text":"To clone the repository use these commands. You must also have git lfs installed on your computer. Please check "},{"isActive":true,"type":"reference","identifier":"https:\/\/git-lfs.github.com"},{"text":" to get to know what’s git lfs and how to install it.","type":"text"}],"type":"paragraph"},{"code":["git clone REPO_URL","git lfs pull"],"type":"codeListing","syntax":"shell"},{"inlineContent":[{"type":"text","text":"Please contact our support team to get the repository url."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"After you have cloned the repository you can import CanvasSDK.xcframework into your Xcode project or worksapce. If you prefer to use this framework with Swift Package, you can embed it as a binary dependency."}]},{"code":[".binaryTarget(","    name: \"CanvasSDK\",","    path: \"PATH_TO_CanvasSDK.xcframework\"",")"],"type":"codeListing","syntax":"swift"},{"level":3,"text":"Authorization","anchor":"Authorization","type":"heading"},{"inlineContent":[{"type":"text","text":"There are 3 steps to integrate SDK authorization into your application:"}],"type":"paragraph"},{"level":4,"anchor":"Set-partner-id-and-application-id-that-you-received-from-our-support-team","type":"heading","text":"Set partner-id and application id that you received from our support team."},{"code":["import CanvasSDK","...","func application(","    _ application: UIApplication,","    didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey : Any]? = nil",") -> Bool {","    ...","    Canvas.shared.register(partnerId: \"__YOUR_PARTNER_ID_UUID_STRING__\", appId: \"__YOUR_APP_ID__\")","    ...","}","..."],"type":"codeListing","syntax":"swift"},{"level":4,"anchor":"Set-user-id-property-that-will-be-associated-with-your-in-app-user","type":"heading","text":"Set user-id property that will be associated with your in-app user."},{"type":"paragraph","inlineContent":[{"type":"text","text":"User-id property is a string 4-250 characters in length."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"When you get user-id, set it by calling:"}]},{"code":["import CanvasSDK","...","Canvas.shared.setUserIdProperty(\"__USER_ID_STRING__\")"],"syntax":"swift","type":"codeListing"},{"name":"Note","content":[{"inlineContent":[{"text":"If you do not set user-id, SDK will not be initialized and will not perform operations.","type":"text"}],"type":"paragraph"}],"type":"aside","style":"note"},{"type":"heading","anchor":"Setup-callback-that-will-sign-each-SDK-network-request","text":"Setup callback that will sign each SDK network request.","level":4},{"type":"codeListing","syntax":"swift","code":["import CanvasSDK","...","func application(","    _ application: UIApplication,","    didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey : Any]? = nil",") -> Bool {","    ...","    Canvas.shared.register(partnerId: \"__YOUR_PARTNER_ID_UUID_STRING__\", appId: \"__YOUR_APP_ID__\")","    ...","","    \/\/ data: bytes, that should be signed","    \/\/ algo: currently supports only ED25519","    \/\/ completion - error or success Result block. On success it should return CanvasSignature object","    Canvas.shared.setSigningMiddleware { data, algo, completion in","        \/\/ set up sample ED25519 signer with JWK key (converted from string to bytes).","        guard let signer = try SampleAppRequestSigner(with: Data(jwkKey.utf8)) else {","            completion(.failure(Canvas.Error.externalRequestSigningError))","            return","        }","","        do {","            let signature = try signer.sign(body: data, signingAlgo: algo)","            completion(.success(signature))","        } catch {","            completion(.failure(error))","        }","    }","...","}"]},{"type":"aside","content":[{"inlineContent":[{"text":"After these 3 steps are executed, the SDK will be initialized automatically.","type":"text"}],"type":"paragraph"}],"style":"note","name":"Note"},{"anchor":"SDK-signing-procedure-notes","text":"SDK signing procedure notes","type":"heading","level":4},{"type":"paragraph","inlineContent":[{"text":"You should use ED25519 assymetric cryptography for signing the SDK. Alongside with partner-id string you should receive a ED25519 private key in JWK format. Example JWK key","type":"text"}]},{"code":["{","    \"kty\":\"OKP\",","    \"d\":\"_ED25519_PRIVATE_KEY_\",","    \"use\":\"sig\",","    \"crv\":\"Ed25519\",","    \"kid\":\"a35c8f25-f922-4079-a439-45d206de20a7\",","    \"x\":\"dAc1x-k__pLBy0-WcRAeJ_kBA3osqZkIl5H36lVnVfo\"","}"],"type":"codeListing","syntax":"json"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can find an example signer in the SampleApp project. The class name is “SampleAppRequestSigner”."}]},{"inlineContent":[{"type":"text","text":"For security reasons, the signing procedure should be moved to the partner’s backend, because keys should not be embedded into client application."},{"type":"text","text":" "},{"type":"text","text":"For tests purposes you can use sample signer “SampleAppRequestSigner” from the SamlpeApp project."}],"type":"paragraph"}]}],"hierarchy":{"paths":[["doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK"]]},"references":{"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/Canvas":{"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/Canvas","role":"symbol","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Canvas"}],"fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"Canvas"}],"url":"\/documentation\/canvassdk\/canvas","title":"Canvas","abstract":[{"text":"All operations with canvas service is done by Canvas shared instance ","type":"text"},{"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/Canvas\/shared","isActive":true,"type":"reference"},{"text":".","type":"text"},{"text":" ","type":"text"},{"text":"For proper operation of Canvas SDK you should setup credentials and attach signing handler callback, as described in “Getting Started” section of documentation.","type":"text"}]},"https://git-lfs.github.com":{"type":"link","titleInlineContent":[{"text":"git lfs docs","type":"text"}],"identifier":"https:\/\/git-lfs.github.com","url":"https:\/\/git-lfs.github.com","title":"git lfs docs"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK":{"type":"topic","kind":"symbol","role":"collection","abstract":[{"text":"Create a 3D scan of your environment using a device’s camera and convert it to a CAD model.","type":"text"}],"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK","title":"CanvasSDK","url":"\/documentation\/canvassdk"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasSigningHandler":{"abstract":[],"navigatorTitle":[{"text":"CanvasSigningHandler","kind":"identifier"}],"title":"CanvasSigningHandler","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"text":"CanvasSigningHandler","kind":"identifier"}],"url":"\/documentation\/canvassdk\/canvassigninghandler","type":"topic","kind":"symbol","role":"symbol","identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasSigningHandler"},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/CanvasSigningAlgo":{"type":"topic","kind":"symbol","abstract":[],"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/CanvasSigningAlgo","role":"symbol","fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"text":"CanvasSigningAlgo","kind":"identifier"}],"url":"\/documentation\/canvassdk\/canvassigningalgo","title":"CanvasSigningAlgo","navigatorTitle":[{"kind":"identifier","text":"CanvasSigningAlgo"}]},"doc://com.occipital.CanvasSDK/documentation/CanvasSDK/Canvas/shared":{"identifier":"doc:\/\/com.occipital.CanvasSDK\/documentation\/CanvasSDK\/Canvas\/shared","role":"symbol","kind":"symbol","type":"topic","fragments":[{"text":"static","kind":"keyword"},{"kind":"text","text":" "},{"kind":"keyword","text":"let"},{"text":" ","kind":"text"},{"text":"shared","kind":"identifier"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:9CanvasSDK0A0C","kind":"typeIdentifier","text":"Canvas"}],"url":"\/documentation\/canvassdk\/canvas\/shared","title":"shared","abstract":[]}}}